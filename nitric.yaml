name: financeapi

resources:
  - name: finance-api
    type: api

services:
  - name: api
    buildType: docker
    docker:
      dockerfile: ./python.dockerfile
      context: ./services
    main: services/api.py
    match: "services/*.py"
    env:
      HANDLER: services/api:main
      PORT: 4001

    triggers:
      - type: http
        target: finance-api
        routes:
          - path: /stock-data
            method: GET
